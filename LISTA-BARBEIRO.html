<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Agenda do Barbeiro</title>

<style>
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: 'Segoe UI', Arial, sans-serif;
  background: linear-gradient(135deg, #43cea2, #185a9d);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/* LOGO NO TOPO */
body::before {
  content: "";
  position: fixed;
  top: 14px;
  left: 50%;
  transform: translateX(-50%);
  width: 140px;
  height: 140px;
  background-image: url("https://static.vecteezy.com/system/resources/previews/044/812/126/non_2x/classic-barber-shop-logo-with-vintage-style-on-transparent-background-png.png");
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
  opacity: 0.9;
  pointer-events: none;
  z-index: 0;
}

/* üî• SAUDA√á√ÉO TIPO BANCO */
.greeting {
  position: fixed;
  top: 170px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 22px;
  font-weight: 700;
  color: #eafff7;
  letter-spacing: 1px;
  display: flex;
  gap: 2px;
  z-index: 1;
}

.greeting span {
  display: inline-block;
  animation: greetIn 0.6s ease forwards, pulse 2.2s ease-in-out infinite;
  opacity: 0;
}

@keyframes greetIn {
  from {
    transform: translateY(12px) scale(0.8);
    opacity: 0;
  }
  to {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.06); }
  100% { transform: scale(1); }
}

.container {
  margin-top: 230px;
  width: 100%;
  max-width: 520px;
  background: #ffffff;
  padding: 25px;
  border-radius: 22px;
  box-shadow: 0 20px 45px rgba(0,0,0,0.25);
  position: relative;
  z-index: 2;
}

h1 {
  text-align: center;
  color: #1e2a38;
  margin-bottom: 8px;
}

.data-atual {
  text-align: center;
  font-weight: bold;
  color: #1abc9c;
  margin-bottom: 15px;
}

input[type="date"] {
  width: 100%;
  padding: 12px;
  border-radius: 12px;
  border: 2px solid #ddd;
  font-size: 15px;
  margin-bottom: 20px;
}

.agendamento {
  background: linear-gradient(135deg, #f7f9fb, #eef3f7);
  padding: 16px;
  border-radius: 16px;
  margin-bottom: 14px;
  border-left: 6px solid #1abc9c;
}

.hora {
  font-size: 18px;
  font-weight: bold;
  color: #1e2a38;
}

.cliente {
  font-size: 15px;
  margin-top: 5px;
  color: #555;
}

.servicos {
  font-size: 14px;
  margin-top: 6px;
  color: #555;
}

.total {
  margin-top: 6px;
  font-weight: bold;
  color: #27ae60;
}

button {
  margin-top: 12px;
  width: 100%;
  padding: 11px;
  border: none;
  border-radius: 12px;
  background: linear-gradient(135deg, #ff5f6d, #ffc371);
  color: #fff;
  font-weight: bold;
  cursor: pointer;
  font-size: 14px;
}

button:hover {
  opacity: 0.9;
}

p {
  text-align: center;
  color: #555;
}

/* TEXTO RODAP√â */
.footer-brand {
  margin: 22px 0;
  font-size: 20px;
  font-weight: 700;
  letter-spacing: 2px;
  color: #eafff7;
  text-align: center;
  user-select: none;
}

.footer-brand span {
  display: inline-block;
  animation: float 2.4s ease-in-out infinite;
}

.footer-brand span:nth-child(even) {
  animation-delay: 0.2s;
}

@keyframes float {
  0% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
  100% { transform: translateY(0); }
}
</style>
</head>

<body>

<!-- SAUDA√á√ÉO -->
<div class="greeting" id="greeting"></div>

<div class="container">
  <h1>Agenda do Barbeiro</h1>
  <div class="data-atual" id="dataTexto"></div>
  <input type="date" id="data">
  <div id="lista"></div>
</div>

<div class="footer-brand" id="brand"></div>

<script>
/* üî• SAUDA√á√ÉO ANIMADA */
const greetingText = "Ol√°, Paulo üëã";
const greeting = document.getElementById("greeting");

greeting.innerHTML = greetingText
  .split("")
  .map((l, i) => `<span style="animation-delay:${i * 0.06}s">${l === " " ? "&nbsp;" : l}</span>`)
  .join("");

/* RODAP√â */
const brandText = "BARBEARIA NOV√ÅKOSKI";
const brand = document.getElementById("brand");

brand.innerHTML = brandText
  .split("")
  .map(l => `<span>${l === " " ? "&nbsp;" : l}</span>`)
  .join("");

/* SISTEMA ORIGINAL */
const dataInput = document.getElementById("data");
const lista = document.getElementById("lista");
const dataTexto = document.getElementById("dataTexto");

let hoje = new Date();
while (hoje.getDay() === 0 || hoje.getDay() === 1) {
  hoje.setDate(hoje.getDate() + 1);
}

dataInput.value = hoje.toISOString().split("T")[0];
carregarAgenda();

dataInput.addEventListener("change", carregarAgenda);

function carregarAgenda(){
  lista.innerHTML = "";

  const dataSelecionada = new Date(dataInput.value + "T00:00");
  const diaSemana = dataSelecionada.getDay();

  dataTexto.innerText =
    "Data: " + dataInput.value.split("-").reverse().join("/");

  if(diaSemana === 0 || diaSemana === 1){
    lista.innerHTML = "<p>Barbearia fechada neste dia</p>";
    return;
  }

  const agendamentos =
    JSON.parse(localStorage.getItem("agendamentos")) || [];

  const doDia = agendamentos.filter(a => a.data === dataInput.value);

  if(doDia.length === 0){
    lista.innerHTML = "<p>Nenhum agendamento para este dia</p>";
    return;
  }

  doDia.forEach(a => {
    const horaMarcada = a.hora || a.horario;

    const div = document.createElement("div");
    div.className = "agendamento";
    div.innerHTML = `
      <div class="hora">‚è∞ ${horaMarcada}</div>
      <div class="cliente">üë§ Cliente: ${a.nome}</div>
      <div class="servicos">‚úÇÔ∏è Servi√ßos: ${a.servicos.join(", ")}</div>
      <div class="total">üí∞ Total: R$ ${a.total}</div>
      <button onclick="excluirAgendamento('${a.data}','${horaMarcada}')">
        Excluir Agendamento
      </button>
    `;
    lista.appendChild(div);
  });
}

function excluirAgendamento(data, hora){
  if(!confirm("Tem certeza que deseja excluir este agendamento?")) return;

  let agendamentos =
    JSON.parse(localStorage.getItem("agendamentos")) || [];

  agendamentos = agendamentos.filter(a =>
    !(a.data === data && (a.hora === hora || a.horario === hora))
  );

  localStorage.setItem("agendamentos", JSON.stringify(agendamentos));
  carregarAgenda();
}
</script>

</body>
</html>
